(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"19mU":function(e,t,r){"use strict";r.r(t),r.d(t,"MenuModule",function(){return M});var a=r("ofXK"),n=r("tyNb"),i=r("kiQV"),o=r("fXoL"),l=r("0QSR"),s=r("9zBX");let b=(()=>{class e{constructor(e,t){this.gameService=e,this.router=t}get canResume(){return this.gameService.canResume}get version(){return i.a}resume(){this.gameService.resume(),this.router.navigateByUrl("/game")}}return e.\u0275fac=function(t){return new(t||e)(o.Ib(l.a),o.Ib(n.a))},e.\u0275cmp=o.Cb({type:e,selectors:[["f-menu"]],decls:12,vars:2,consts:[[1,"menu"],[1,"header"],[1,"body"],[1,"button-list","vertical"],["routerLink","newGame","type","button","fTranslate","newGame"],["type","button","fTranslate","continueGame",3,"disabled","click"],["routerLink","settings","type","button","fTranslate","settings"],[1,"footer"],[1,"text-small","text-right"]],template:function(e,t){1&e&&(o.Nb(0,"div",0),o.Nb(1,"div",1),o.Nb(2,"h1"),o.ic(3,"Fastfood"),o.Mb(),o.Mb(),o.Nb(4,"div",2),o.Nb(5,"div",3),o.Jb(6,"button",4),o.Nb(7,"button",5),o.Ub("click",function(){return t.resume()}),o.Mb(),o.Jb(8,"button",6),o.Mb(),o.Mb(),o.Nb(9,"div",7),o.Nb(10,"div",8),o.ic(11),o.Mb(),o.Mb(),o.Mb()),2&e&&(o.wb(7),o.ac("disabled",!t.canResume),o.wb(4),o.kc("v",t.version,""))},directives:[n.b,s.a],styles:[""],changeDetection:0}),e})();var u=r("3Pt+"),c=r("nYFQ"),m=r("GHTg"),f=r("KGMg"),d=r("mLz/"),p=r("Ryqz");const y=function(e){return{hidden:e}};function h(e,t){if(1&e&&(o.Nb(0,"div",23),o.Nb(1,"label",24),o.ic(2),o.Xb(3,"translate"),o.Nb(4,"span"),o.ic(5),o.Xb(6,"translate"),o.Mb(),o.Mb(),o.Nb(7,"select",25),o.Nb(8,"option",26),o.ic(9),o.Mb(),o.Jb(10,"option",27),o.Jb(11,"option",28),o.Jb(12,"option",29),o.Mb(),o.Mb()),2&e){const e=t.$implicit,r=t.index,a=o.Wb();o.ac("ngClass",o.cc(14,y,r>=a.numberOfPlayers)),o.wb(1),o.bc("for","player",r,""),o.wb(1),o.lc("",o.Yb(3,10,"player")," ",r+1," "),o.wb(2),o.yb(e.color),o.wb(1),o.kc("(",o.Yb(6,12,e.color),")"),o.wb(2),o.bc("id","player",r,""),o.ac("formControlName",e.formControlName),o.wb(2),o.jc(a.userName)}}const N=[{path:"",pathMatch:"full",component:b},{path:"newGame",pathMatch:"full",component:(()=>{class e{constructor(t,r,a,n,i){this.router=t,this.gameService=r,this.settingsService=a,this.localStorageService=n,this.players=[{color:"red",formControlName:"player0"},{color:"green",formControlName:"player1"},{color:"yellow",formControlName:"player2"},{color:"blue",formControlName:"player3"}];const o=this.loadCacheData();this.formGroup=i.group({}),this.formGroup.addControl("numberOfPlayers",i.control(o.numberOfPlayers,[u.l.required,u.l.min(e.MIN_NUMBER_OF_PLAYERS),u.l.max(this.players.length)])),this.formGroup.addControl(this.players[0].formControlName,i.control(o.players[0],u.l.required)),this.formGroup.addControl(this.players[1].formControlName,i.control(o.players[1],u.l.required)),this.formGroup.addControl(this.players[2].formControlName,i.control(o.players[2],u.l.required)),this.formGroup.addControl(this.players[3].formControlName,i.control(o.players[3],u.l.required)),this.formGroup.addControl("initialMoney",i.control(o.initialMoney,u.l.required)),this.formGroup.addControl("initialBuildings",i.control(o.initialBuildings,[u.l.required,u.l.min(1),u.l.max(2)]))}get canStart(){return this.formGroup.valid}get numberOfPlayers(){return this.formGroup.value.numberOfPlayers}get userName(){return this.settingsService.userName}canChangeInitialBuildings(e){const t=this.formGroup.value.initialBuildings+e;return t>=1&&t<=2}canChangeNumberOfPlayers(t){const r=this.numberOfPlayers+t;return r>=e.MIN_NUMBER_OF_PLAYERS&&r<=this.players.length}changeInitialBuildings(e){const t=this.formGroup.value;t.initialBuildings=Math.min(2,Math.max(1,t.initialBuildings+e)),this.formGroup.setValue(t)}changeNumberOfPlayers(t){const r=this.formGroup.value;r.numberOfPlayers=Math.min(this.players.length,Math.max(e.MIN_NUMBER_OF_PLAYERS,r.numberOfPlayers+t)),this.formGroup.setValue(r)}start(){const t=this.formGroup.value;this.saveCacheData(t);const r={initialBuildings:t.initialBuildings,initialMoney:e.INITIAL_MONEY[t.initialMoney],players:new Array(t.numberOfPlayers)};for(let a=0;a<t.numberOfPlayers;++a)r.players[a]=e.AI_FACTORY[t[this.players[a].formControlName]]();this.gameService.newGame(r),this.router.navigateByUrl("/game")}loadCacheData(){return this.localStorageService.has(e.CACHE_KEY)?this.localStorageService.load(e.CACHE_KEY):{initialBuildings:2,initialMoney:"normal",numberOfPlayers:e.MIN_NUMBER_OF_PLAYERS,players:["human","aiBeginner","aiBeginner","aiBeginner"],version:1}}saveCacheData(t){this.localStorageService.save(e.CACHE_KEY,{initialBuildings:t.initialBuildings,initialMoney:t.initialMoney,numberOfPlayers:t.numberOfPlayers,players:[t.player0,t.player1,t.player2,t.player3],version:1})}}return e.MIN_NUMBER_OF_PLAYERS=2,e.INITIAL_MONEY={little:c.a.startMoneyLittle,normal:c.a.startMoneyNormal,plenty:c.a.startMoneyPlenty},e.AI_FACTORY={human:()=>{},aiBeginner:()=>m.a.newAI(m.b.BEGINNER),aiAmateur:()=>m.a.newAI(m.b.AMATEUR),aiProfessional:()=>m.a.newAI(m.b.PROFESSIONAL)},e.CACHE_KEY="newGame",e.\u0275fac=function(t){return new(t||e)(o.Ib(n.a),o.Ib(l.a),o.Ib(f.a),o.Ib(d.a),o.Ib(u.b))},e.\u0275cmp=o.Cb({type:e,selectors:[["f-new-game"]],decls:34,vars:7,consts:[[1,"menu"],[1,"header"],["fTranslate","newGame"],[1,"body"],[3,"formGroup"],[1,"form-grid-2"],[1,"form-col"],["for","numberOfPlayers","fTranslate","numberOfPlayers"],[1,"input-group"],["type","button",3,"disabled","click"],["formControlName","numberOfPlayers","id","numberOfPlayers","type","number","min","1","max","4","readonly","readonly"],["class","form-col",3,"ngClass",4,"ngFor","ngForOf"],["for","initialMoney","fTranslate","initialMoney"],["formControlName","initialMoney","id","initialMoney"],["value","little","fTranslate","initialMoneyLittle"],["value","normal","fTranslate","initialMoneyNormal"],["value","plenty","fTranslate","initialMoneyPlenty"],["for","initialBuildings","fTranslate","initialBuildings"],["formControlName","initialBuildings","id","initialBuildings","type","number","min","1","max","2","readonly","readonly"],[1,"footer"],[1,"button-list"],["type","button","fTranslate","start",3,"disabled","click"],["routerLink","/menu","type","button","fTranslate","cancel"],[1,"form-col",3,"ngClass"],[3,"for"],[3,"formControlName","id"],["value","human"],["value","aiBeginner","fTranslate","aiPlayerBeginner"],["value","aiAmateur","fTranslate","aiPlayerAmateur"],["value","aiProfessional","fTranslate","aiPlayerProfessional"]],template:function(e,t){1&e&&(o.Nb(0,"div",0),o.Nb(1,"div",1),o.Jb(2,"h1",2),o.Mb(),o.Nb(3,"div",3),o.Nb(4,"form",4),o.Nb(5,"div",5),o.Nb(6,"div",6),o.Jb(7,"label",7),o.Nb(8,"div",8),o.Nb(9,"button",9),o.Ub("click",function(){return t.changeNumberOfPlayers(-1)}),o.ic(10,"-"),o.Mb(),o.Jb(11,"input",10),o.Nb(12,"button",9),o.Ub("click",function(){return t.changeNumberOfPlayers(1)}),o.ic(13,"+"),o.Mb(),o.Mb(),o.Mb(),o.Jb(14,"div",6),o.hc(15,h,13,16,"div",11),o.Nb(16,"div",6),o.Jb(17,"label",12),o.Nb(18,"select",13),o.Jb(19,"option",14),o.Jb(20,"option",15),o.Jb(21,"option",16),o.Mb(),o.Mb(),o.Nb(22,"div",6),o.Jb(23,"label",17),o.Nb(24,"div",8),o.Nb(25,"button",9),o.Ub("click",function(){return t.changeInitialBuildings(-1)}),o.ic(26,"-"),o.Mb(),o.Jb(27,"input",18),o.Nb(28,"button",9),o.Ub("click",function(){return t.changeInitialBuildings(1)}),o.ic(29,"+"),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Nb(30,"div",19),o.Nb(31,"div",20),o.Nb(32,"button",21),o.Ub("click",function(){return t.start()}),o.Mb(),o.Jb(33,"button",22),o.Mb(),o.Mb(),o.Mb()),2&e&&(o.wb(4),o.ac("formGroup",t.formGroup),o.wb(5),o.ac("disabled",!t.canChangeNumberOfPlayers(-1)),o.wb(3),o.ac("disabled",!t.canChangeNumberOfPlayers(1)),o.wb(3),o.ac("ngForOf",t.players),o.wb(10),o.ac("disabled",!t.canChangeInitialBuildings(-1)),o.wb(3),o.ac("disabled",!t.canChangeInitialBuildings(1)),o.wb(4),o.ac("disabled",!t.canStart))},directives:[s.a,u.n,u.g,u.d,u.a,u.i,u.f,u.c,a.j,u.k,u.h,u.m,n.b,a.i],pipes:[p.a],styles:[""],changeDetection:0}),e})()},{path:"settings",pathMatch:"full",component:(()=>{class e{constructor(e,t,r){this.router=e,this.settingsService=t,this.formGroup=r.group({}),this.formGroup.addControl("userName",r.control(t.userName,u.l.required))}get canSave(){return this.formGroup.valid}save(){this.settingsService.set({userName:this.formGroup.value.userName}),this.router.navigateByUrl("/menu")}}return e.\u0275fac=function(t){return new(t||e)(o.Ib(n.a),o.Ib(f.a),o.Ib(u.b))},e.\u0275cmp=o.Cb({type:e,selectors:[["f-settings"]],decls:12,vars:2,consts:[[1,"menu"],[1,"header"],["fTranslate","settings"],[1,"body"],[3,"formGroup"],[1,"form-group"],["for","userName","fTranslate","userName"],["formControlName","userName","id","userName","type","text"],[1,"footer"],[1,"button-list"],["type","button","fTranslate","save",3,"disabled","click"],["routerLink","/menu","type","button","fTranslate","cancel"]],template:function(e,t){1&e&&(o.Nb(0,"div",0),o.Nb(1,"div",1),o.Jb(2,"h1",2),o.Mb(),o.Nb(3,"div",3),o.Nb(4,"form",4),o.Nb(5,"div",5),o.Jb(6,"label",6),o.Jb(7,"input",7),o.Mb(),o.Mb(),o.Mb(),o.Nb(8,"div",8),o.Nb(9,"div",9),o.Nb(10,"button",10),o.Ub("click",function(){return t.save()}),o.Mb(),o.Jb(11,"button",11),o.Mb(),o.Mb(),o.Mb()),2&e&&(o.wb(4),o.ac("formGroup",t.formGroup),o.wb(6),o.ac("disabled",!t.canSave))},directives:[s.a,u.n,u.g,u.d,u.a,u.f,u.c,n.b],styles:[""],changeDetection:0}),e})()}];let g=(()=>{class e{}return e.\u0275mod=o.Gb({type:e}),e.\u0275inj=o.Fb({factory:function(t){return new(t||e)},imports:[[n.c.forChild(N)],n.c]}),e})();var v=r("PCNd");let M=(()=>{class e{}return e.\u0275mod=o.Gb({type:e}),e.\u0275inj=o.Fb({factory:function(t){return new(t||e)},imports:[[a.b,g,v.a,u.e,u.j]]}),e})()},kiQV:function(e){e.exports=JSON.parse('{"a":"0.0.7"}')}}]);