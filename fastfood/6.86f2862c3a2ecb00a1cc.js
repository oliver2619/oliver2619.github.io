(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{ekgB:function(e,t,i){"use strict";i.r(t),i.d(t,"GameModule",function(){return j});var s=i("ofXK"),n=i("tyNb"),r=i("fXoL"),a=i("0QSR"),c=i("1+1J"),b=i("XNiG"),o=i("9zBX");function l(e,t){if(1&e&&(r.Lb(0,"tr"),r.Jb(1,"td",13),r.Lb(2,"td",14),r.gc(3),r.Vb(4,"number"),r.Kb(),r.Kb()),2&e){const e=r.Ub(2);r.wb(3),r.ic("",r.Xb(4,1,e.buyCosts,"1.0-0")," kC")}}function u(e,t){if(1&e&&(r.Lb(0,"tr"),r.Jb(1,"td",15),r.Lb(2,"td",14),r.gc(3),r.Vb(4,"number"),r.Kb(),r.Kb()),2&e){const e=r.Ub(2);r.wb(3),r.ic("",r.Xb(4,1,e.buyCosts,"1.0-0")," kC")}}function g(e,t){if(1&e&&(r.Lb(0,"tr"),r.Jb(1,"td",16),r.Lb(2,"td",14),r.gc(3),r.Vb(4,"number"),r.Kb(),r.Kb()),2&e){const e=r.Ub(2);r.wb(3),r.ic("",r.Xb(4,1,e.sellCosts,"1.0-0")," kC")}}function h(e,t){if(1&e&&(r.Lb(0,"div",11),r.Lb(1,"table"),r.Lb(2,"tbody"),r.fc(3,l,5,4,"tr",12),r.fc(4,u,5,4,"tr",12),r.fc(5,g,5,4,"tr",12),r.Kb(),r.Kb(),r.Kb()),2&e){const e=r.Ub();r.wb(3),r.Yb("ngIf",e.canBuy),r.wb(1),r.Yb("ngIf",e.canUpgrade),r.wb(1),r.Yb("ngIf",e.canSell)}}function m(e,t){if(1&e){const e=r.Mb();r.Lb(0,"button",17),r.Sb("click",function(){return r.cc(e),r.Ub().buy()}),r.Kb()}if(2&e){const e=r.Ub();r.Yb("fTranslate",e.isInitPhase?"put":"buy")}}function v(e,t){if(1&e){const e=r.Mb();r.Lb(0,"button",18),r.Sb("click",function(){return r.cc(e),r.Ub().upgrade()}),r.Kb()}}function d(e,t){if(1&e){const e=r.Mb();r.Lb(0,"button",19),r.Sb("click",function(){return r.cc(e),r.Ub().sell()}),r.Kb()}}let f=(()=>{class e{constructor(e){this.gameService=e,this.onClose=new b.a}get canBuy(){return void 0!==this.x&&void 0!==this.y&&this.gameService.canAddBuilding(this.x,this.y)}get canUpgrade(){return void 0!==this.x&&void 0!==this.y&&this.gameService.canUpgradeBuilding(this.x,this.y)}get canSell(){return void 0!==this.x&&void 0!==this.y&&this.gameService.canSellBuilding(this.x,this.y)&&!this.gameService.isInitPhase}get buyCosts(){return void 0!==this.x&&void 0!==this.y?this.gameService.getBuildingBuyPrice(this.x,this.y):0}get sellCosts(){return void 0!==this.x&&void 0!==this.y?this.gameService.getBuildingSellPrice(this.x,this.y):0}get isInitPhase(){return this.gameService.isInitPhase}buy(){this.gameService.addBuilding(this.x,this.y),this.onClose.next()}upgrade(){this.gameService.upgradeBuilding(this.x,this.y),this.onClose.next()}cancel(){this.onClose.next()}sell(){this.gameService.sellBuilding(this.x,this.y),this.onClose.next()}}return e.\u0275fac=function(t){return new(t||e)(r.Ib(a.a))},e.\u0275cmp=r.Cb({type:e,selectors:[["f-building-context-menu"]],decls:11,vars:4,consts:[[1,"dialog"],[1,"menu"],[1,"header"],["fTranslate","building"],["class","body",4,"ngIf"],[1,"footer"],[1,"button-list"],["type","button",3,"fTranslate","click",4,"ngIf"],["type","button","fTranslate","upgradeBuilding",3,"click",4,"ngIf"],["type","button","fTranslate","sell",3,"click",4,"ngIf"],["type","button","fTranslate","cancel",3,"click"],[1,"body"],[4,"ngIf"],["fTranslate","buy"],[1,"text-right"],["fTranslate","upgradeBuilding"],["fTranslate","sell"],["type","button",3,"fTranslate","click"],["type","button","fTranslate","upgradeBuilding",3,"click"],["type","button","fTranslate","sell",3,"click"]],template:function(e,t){1&e&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.Jb(3,"h1",3),r.Kb(),r.fc(4,h,6,3,"div",4),r.Lb(5,"div",5),r.Lb(6,"div",6),r.fc(7,m,1,1,"button",7),r.fc(8,v,1,0,"button",8),r.fc(9,d,1,0,"button",9),r.Lb(10,"button",10),r.Sb("click",function(){return t.cancel()}),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&e&&(r.wb(4),r.Yb("ngIf",!t.isInitPhase),r.wb(3),r.Yb("ngIf",t.canBuy),r.wb(1),r.Yb("ngIf",t.canUpgrade),r.wb(1),r.Yb("ngIf",t.canSell))},directives:[o.a,s.k],pipes:[s.d],styles:[""],changeDetection:0}),e})();function p(e,t){if(1&e){const e=r.Mb();r.Lb(0,"button",8),r.Sb("click",function(){return r.cc(e),r.Ub().place()}),r.Kb()}}let y=(()=>{class e{constructor(e){this.gameService=e,this.onClose=new b.a}get canPlace(){return void 0!==this.field&&this.gameService.canSetDisaster(this.field.x,this.field.y)}get title(){return void 0!==this.field?this.field.type:""}cancel(){this.onClose.next()}place(){this.gameService.setDisaster(this.field.x,this.field.y),this.onClose.next()}}return e.\u0275fac=function(t){return new(t||e)(r.Ib(a.a))},e.\u0275cmp=r.Cb({type:e,selectors:[["f-field-context-menu"]],decls:8,vars:2,consts:[[1,"dialog"],[1,"menu"],[1,"header"],[3,"fTranslate"],[1,"body"],[1,"button-list"],["type","button","fTranslate","placeDisaster",3,"click",4,"ngIf"],["type","button","fTranslate","cancel",3,"click"],["type","button","fTranslate","placeDisaster",3,"click"]],template:function(e,t){1&e&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.Jb(3,"h1",3),r.Kb(),r.Lb(4,"div",4),r.Lb(5,"div",5),r.fc(6,p,1,0,"button",6),r.Lb(7,"button",7),r.Sb("click",function(){return t.cancel()}),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&e&&(r.wb(3),r.Yb("fTranslate",t.title),r.wb(3),r.Yb("ngIf",t.canPlace))},directives:[o.a,s.k],styles:[""],changeDetection:0}),e})();var S=i("/2Pu"),L=i("vnFs");const K=["canvas"];let w=(()=>{class e{constructor(e,t){this.gameService=e,this.modalService=t,this.offsetX=0,this.offsetY=0,this.onResize=()=>{const e=this.canvas.nativeElement;e.width=window.innerWidth,e.height=window.innerHeight,this.clampOffset(),this.paint()},this.gameObserver={buildingsChange:()=>this.paint(),disasterChange:()=>this.paint()}}ngOnDestroy(){window.removeEventListener("resize",this.onResize),this.gameService.removeObserver(this.gameObserver)}ngAfterViewInit(){if(void 0!==this.canvas){const e=this.canvas.nativeElement.getContext("2d",{alpha:!0});null!==e&&(this.context=e),window.addEventListener("resize",this.onResize),this.onResize(),this.gameService.addObserver(this.gameObserver)}}click(e){let t=0|Math.round(2*(e.clientX-this.offsetX)/c.a.WIDTH),i=0|Math.round(4*(e.clientY-this.offsetY)/c.a.HEIGHT);if(t<0||i<0||t>12||i>16)return;const s=this.getBuilding(t,i);if(void 0!==s){const e=this.modalService.create(f);e.instance.x=s.x,e.instance.y=s.y,e.instance.onClose.subscribe({next:()=>e.destroy()})}else{const e=this.getField(t,i);if(void 0!==e){const t=this.modalService.create(y);t.instance.field=e,t.instance.onClose.subscribe({next:()=>t.destroy()})}}}mouseDown(e){void 0!==this.canvas&&void 0===this.pointerId&&(this.canvas.nativeElement.setPointerCapture(e.pointerId),this.pointerId=e.pointerId,e.preventDefault())}mouseMove(e){void 0!==this.canvas&&this.pointerId===e.pointerId&&(this.offsetX+=e.movementX,this.offsetY+=e.movementY,this.clampOffset(),this.paint(),e.preventDefault())}mouseUp(e){void 0!==this.canvas&&this.pointerId===e.pointerId&&(this.canvas.nativeElement.releasePointerCapture(e.pointerId),this.pointerId=void 0,e.preventDefault())}getBuilding(e,t){if((t+1)%3!=0){if(1==(1&e)){const i=t%6;return 0===i?S.a.newCoordinates(e,t/3|0):4===i?S.a.newCoordinates(e,(t-1)/3|0):void 0}{const i=(t+5)%6;return 0===i?S.a.newCoordinates(e,(t-1)/3|0):2===i?S.a.newCoordinates(e,t/3|0):void 0}}}getField(e,t){if(1==(1&e)){if((t+5)%6<3)return this.gameService.getField((e-1)/2|0,(t-1)/3|0)}else if((t+5)%6>=3&&t>0)return this.gameService.getField(e/2-1|0,(t-1)/3|0)}paint(){const e=this.context;e.clearRect(0,0,e.canvas.width,e.canvas.height),e.save();try{e.translate(this.offsetX,this.offsetY),this.gameService.paint(e)}finally{e.restore()}}clampOffset(){if(void 0!==this.canvas){const e=this.canvas.nativeElement.width,t=this.canvas.nativeElement.height;this.gameService.paintWidth<.5*e?this.offsetX=(e-this.gameService.paintWidth)/2:this.offsetX<.5*e-this.gameService.paintWidth?this.offsetX=.5*e-this.gameService.paintWidth:this.offsetX>.5*e&&(this.offsetX=.5*e),this.gameService.paintHeight<.5*t?this.offsetY=(t-this.gameService.paintHeight)/2:this.offsetY<.5*t-this.gameService.paintHeight?this.offsetY=.5*t-this.gameService.paintHeight:this.offsetY>.5*t&&(this.offsetY=.5*t)}}}return e.\u0275fac=function(t){return new(t||e)(r.Ib(a.a),r.Ib(L.a))},e.\u0275cmp=r.Cb({type:e,selectors:[["f-canvas"]],viewQuery:function(e,t){if(1&e&&r.kc(K,!0),2&e){let e;r.bc(e=r.Tb())&&(t.canvas=e.first)}},decls:2,vars:0,consts:[[3,"click","contextmenu","pointerdown","pointerup","pointermove"],["canvas",""]],template:function(e,t){1&e&&(r.Lb(0,"canvas",0,1),r.Sb("click",function(e){return t.click(e)})("contextmenu",function(e){return t.click(e)})("pointerdown",function(e){return t.mouseDown(e)})("pointerup",function(e){return t.mouseUp(e)})("pointermove",function(e){return t.mouseMove(e)}),r.Kb())},styles:[""],changeDetection:0}),e})();function k(e,t){if(1&e&&(r.Lb(0,"div",1),r.Jb(1,"img",2),r.Lb(2,"label",3),r.gc(3),r.Vb(4,"number"),r.Kb(),r.Jb(5,"img",4),r.Lb(6,"label",3),r.gc(7),r.Vb(8,"number"),r.Kb(),r.Kb()),2&e){const e=r.Ub();r.wb(3),r.ic("",r.Xb(4,2,e.cash,"1.0-0")," kC"),r.wb(4),r.ic("",r.Xb(8,5,-e.runningCosts,"1.0-0")," kC")}}let C=(()=>{class e{constructor(e,t){this.gameService=e,this.changeDetectorRef=t,this.gameObserver={turnChange:()=>this.changeDetectorRef.markForCheck(),resourcesChange:()=>this.changeDetectorRef.markForCheck()}}get cash(){return void 0!==this.gameService.playerOnTurn?this.gameService.playerOnTurn.money:0}get runningCosts(){return void 0!==this.gameService.playerOnTurn?this.gameService.playerOnTurn.runningCosts:0}get playerOnTurn(){return this.gameService.isHumanOnTurn}ngOnDestroy(){this.gameService.removeObserver(this.gameObserver)}ngOnInit(){this.gameService.addObserver(this.gameObserver)}}return e.\u0275fac=function(t){return new(t||e)(r.Ib(a.a),r.Ib(r.h))},e.\u0275cmp=r.Cb({type:e,selectors:[["f-soils"]],decls:1,vars:1,consts:[["class","grid-2",4,"ngIf"],[1,"grid-2"],["src","assets/images/coins.png",1,"label-frame"],[1,"white","text-right"],["src","assets/images/coins_in_hand.png",1,"label-frame"]],template:function(e,t){1&e&&r.fc(0,k,9,8,"div",0),2&e&&r.Yb("ngIf",t.playerOnTurn)},directives:[s.k],pipes:[s.d],styles:[""],changeDetection:0}),e})();function T(e,t){1&e&&r.Jb(0,"label",5)}function O(e,t){1&e&&r.Jb(0,"label",6)}let I=(()=>{class e{constructor(e,t,i){this.gameService=e,this.changeDetectorRef=t,this.router=i,this.observer={buildingsChange:()=>{this.changeDetectorRef.markForCheck()},turnChange:()=>{this.changeDetectorRef.markForCheck()},phaseChange:()=>{this.changeDetectorRef.markForCheck(),this.gameService.isGameOver?this.router.navigateByUrl("/game/score"):this.gameService.isHarvestPhase?this.harvest():this.gameService.isSellPhase?this.sell():this.router.navigateByUrl("/game")},resourcesChange:()=>{this.changeDetectorRef.markForCheck()},disasterChange:()=>{this.changeDetectorRef.markForCheck()}}}get colorOnTurn(){return void 0!==this.gameService.playerOnTurn?this.gameService.playerOnTurn.colorName:""}get hasDisaster(){return this.gameService.isDisasterPhase&&this.gameService.isHumanOnTurn}get hasUnplacedBuilding(){return this.gameService.hasUnplacedBuilding&&this.gameService.isHumanOnTurn}get playerOnTurn(){return void 0!==this.gameService.playerOnTurn?this.gameService.playerOnTurn.name:""}ngOnDestroy(){this.gameService.removeObserver(this.observer)}ngOnInit(){this.gameService.addObserver(this.observer)}harvest(){void 0!==this.gameService.getNextHumanPlayerToHarvest()?this.router.navigateByUrl("/game/harvest"):this.router.navigateByUrl("/game")}sell(){void 0!==this.gameService.getNextHumanPlayerToSell()?this.router.navigateByUrl("/game/products"):this.router.navigateByUrl("/game")}}return e.\u0275fac=function(t){return new(t||e)(r.Ib(a.a),r.Ib(r.h),r.Ib(n.a))},e.\u0275cmp=r.Cb({type:e,selectors:[["f-game"]],decls:11,vars:6,consts:[[1,"game-menu","top","left"],[1,"game-menu-item"],[1,"game-menu","top","center"],["class","label-frame","fTranslate","placeBuilding",4,"ngIf"],["class","label-frame","fTranslate","placeDisaster",4,"ngIf"],["fTranslate","placeBuilding",1,"label-frame"],["fTranslate","placeDisaster",1,"label-frame"]],template:function(e,t){1&e&&(r.Jb(0,"f-canvas"),r.Lb(1,"div",0),r.Lb(2,"div",1),r.Jb(3,"f-soils"),r.Kb(),r.Kb(),r.Lb(4,"div",2),r.Lb(5,"div",1),r.Lb(6,"label"),r.gc(7),r.Kb(),r.fc(8,T,1,0,"label",3),r.fc(9,O,1,0,"label",4),r.Kb(),r.Kb(),r.Jb(10,"router-outlet")),2&e&&(r.wb(6),r.zb("label-frame ",t.colorOnTurn,""),r.wb(1),r.hc(t.playerOnTurn),r.wb(1),r.Yb("ngIf",t.hasUnplacedBuilding),r.wb(1),r.Yb("ngIf",t.hasDisaster))},directives:[w,C,s.k,n.d,o.a],styles:[""],changeDetection:0}),e})(),x=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Cb({type:e,selectors:[["f-cards"]],decls:8,vars:0,consts:[[1,"dialog"],[1,"menu"],[1,"header"],["fTranslate","cards"],[1,"body"],[1,"footer"],[1,"button-list"],["routerLink","/game","type","button","fTranslate","close"]],template:function(e,t){1&e&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.Jb(3,"h1",3),r.Kb(),r.Jb(4,"div",4),r.Lb(5,"div",5),r.Lb(6,"div",6),r.Jb(7,"button",7),r.Kb(),r.Kb(),r.Kb(),r.Kb())},directives:[o.a,n.b],styles:[""],changeDetection:0}),e})(),J=(()=>{class e{constructor(e,t){this.router=e,this.gameService=t}exit(){this.gameService.exit(),this.router.navigateByUrl("/menu")}}return e.\u0275fac=function(t){return new(t||e)(r.Ib(n.a),r.Ib(a.a))},e.\u0275cmp=r.Cb({type:e,selectors:[["f-menu"]],decls:11,vars:0,consts:[[1,"dialog"],[1,"menu"],[1,"header"],["fTranslate","menu"],[1,"body"],[1,"button-list","vertical"],["routerLink","/game/score","type","button","fTranslate","score"],["routerLink","/game/statistics","type","button","fTranslate","statistics"],["routerLink","/game/settings","type","button","fTranslate","settings"],["routerLink","/game","type","button","fTranslate","continueGame"],["type","button","fTranslate","exit",3,"click"]],template:function(e,t){1&e&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.Jb(3,"h1",3),r.Kb(),r.Lb(4,"div",4),r.Lb(5,"div",5),r.Jb(6,"button",6),r.Jb(7,"button",7),r.Jb(8,"button",8),r.Jb(9,"button",9),r.Lb(10,"button",10),r.Sb("click",function(){return t.exit()}),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb())},directives:[o.a,n.b],styles:[""],changeDetection:0}),e})();var D=i("rhnQ");function Y(e,t){1&e&&r.Jb(0,"img",16),2&e&&r.Zb("src","assets/images/",t.$implicit,".png",r.dc)}const P=function(e){return{visibility:e}};function U(e,t){if(1&e){const e=r.Mb();r.Lb(0,"tr"),r.Lb(1,"td",11),r.fc(2,Y,1,1,"img",12),r.Kb(),r.Lb(3,"td",13),r.gc(4),r.Kb(),r.Lb(5,"td",13),r.gc(6),r.Vb(7,"number"),r.Kb(),r.Lb(8,"td"),r.Lb(9,"button",14),r.Sb("click",function(){r.cc(e);const i=t.$implicit;return r.Ub().sell(i)}),r.Jb(10,"img",15),r.Kb(),r.Kb(),r.Kb()}if(2&e){const e=t.$implicit,i=r.Ub();r.wb(2),r.Yb("ngForOf",e.soils),r.wb(2),r.ic("",i.getAmount(e),"\xd7"),r.wb(2),r.ic("",r.Xb(7,4,e.price,"1.0-0")," kC"),r.wb(3),r.Yb("ngStyle",r.ac(7,P,i.canSell(e)?"visible":"hidden"))}}let B=(()=>{class e{constructor(e,t){this.gameService=e,this.changeDetectorRef=t,this.observer={resourcesChange:()=>this.changeDetectorRef.markForCheck()},this.player=this.gameService.getNextHumanPlayerToSell()}get customers(){return this.gameService.getCustomers(this.player)}get playerColor(){return void 0!==this.player?this.gameService.getPlayerColorName(this.player):""}get products(){return D.a.getAll()}ngOnDestroy(){this.gameService.removeObserver(this.observer)}ngOnInit(){this.gameService.addObserver(this.observer)}canSell(e){return this.gameService.canSellProduct(this.player,e)}getAmount(e){return this.gameService.getNumberOfProducts(this.player,e)}sell(e){this.gameService.sell(this.player,e),this.gameService.canSellAnyProduct(this.player)||(this.player=this.gameService.getNextHumanPlayerToSell())}close(){this.gameService.stopSelling(this.player),this.player=this.gameService.getNextHumanPlayerToSell()}}return e.\u0275fac=function(t){return new(t||e)(r.Ib(a.a),r.Ib(r.h))},e.\u0275cmp=r.Cb({type:e,selectors:[["f-products"]],decls:16,vars:4,consts:[[1,"dialog"],[1,"menu"],[1,"header"],["fTranslate","products"],[1,"body"],[4,"ngFor","ngForOf"],[1,"footer"],[1,"button-list"],[1,"image-text-list"],["src","assets/images/users_3.png"],["type","button","fTranslate","close",3,"click"],[1,"label-frame"],[3,"src",4,"ngFor","ngForOf"],[1,"text-right"],["type","button",3,"ngStyle","click"],["src","assets/images/coins_in_hand.png"],[3,"src"]],template:function(e,t){1&e&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.Jb(3,"h1",3),r.Kb(),r.Lb(4,"div",4),r.Lb(5,"table"),r.Lb(6,"tbody"),r.fc(7,U,11,9,"tr",5),r.Kb(),r.Kb(),r.Kb(),r.Lb(8,"div",6),r.Lb(9,"div",7),r.Lb(10,"div",8),r.Jb(11,"img",9),r.gc(12,"\xa0"),r.Lb(13,"span"),r.gc(14),r.Kb(),r.Kb(),r.Lb(15,"button",10),r.Sb("click",function(){return t.close()}),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&e&&(r.wb(3),r.yb(t.playerColor),r.wb(4),r.Yb("ngForOf",t.products),r.wb(7),r.ic("",t.customers,"\xd7"))},directives:[o.a,s.j,s.l],pipes:[s.d],styles:[""],changeDetection:0}),e})();function F(e,t){if(1&e&&(r.Lb(0,"tr"),r.Lb(1,"td",13),r.gc(2),r.Kb(),r.Lb(3,"td"),r.gc(4),r.Kb(),r.Lb(5,"td",13),r.gc(6),r.Vb(7,"number"),r.Kb(),r.Lb(8,"td",13),r.gc(9),r.Kb(),r.Kb()),2&e){const e=t.$implicit,i=t.index;r.wb(2),r.ic("",i+1,"."),r.wb(1),r.yb(e.colorName),r.wb(1),r.hc(e.name),r.wb(2),r.ic("",r.Xb(7,6,e.money,"1.0-0")," kC"),r.wb(3),r.hc(e.score)}}function H(e,t){if(1&e&&(r.Lb(0,"p"),r.Jb(1,"span",14),r.gc(2),r.Kb()),2&e){const e=r.Ub();r.wb(2),r.ic(": ",e.remainingScore,"")}}let X=(()=>{class e{constructor(e,t){this.gameService=e,this.router=t,this.players=this.gameService.players,this.players.sort((e,t)=>e.score!==t.score?t.score-e.score:t.money-e.money),this.isGameOver=this.gameService.isGameOver}get remainingScore(){return this.gameService.remainingScore}close(){this.isGameOver?(this.gameService.exit(),this.router.navigateByUrl("/menu")):this.router.navigateByUrl("/game")}}return e.\u0275fac=function(t){return new(t||e)(r.Ib(a.a),r.Ib(n.a))},e.\u0275cmp=r.Cb({type:e,selectors:[["f-score"]],decls:18,vars:3,consts:[[1,"dialog"],[1,"menu"],[1,"header"],[3,"fTranslate"],[1,"body"],["fTranslate","name"],["fTranslate","money"],["fTranslate","score"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"footer"],[1,"button-list"],["type","button","fTranslate","close",3,"click"],[1,"text-right"],["fTranslate","remainingScore"]],template:function(e,t){1&e&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.Jb(3,"h1",3),r.Kb(),r.Lb(4,"div",4),r.Lb(5,"table"),r.Lb(6,"thead"),r.Lb(7,"tr"),r.Jb(8,"th"),r.Jb(9,"th",5),r.Jb(10,"th",6),r.Jb(11,"th",7),r.Kb(),r.Kb(),r.Lb(12,"tbody"),r.fc(13,F,10,9,"tr",8),r.Kb(),r.Kb(),r.fc(14,H,3,1,"p",9),r.Kb(),r.Lb(15,"div",10),r.Lb(16,"div",11),r.Lb(17,"button",12),r.Sb("click",function(){return t.close()}),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&e&&(r.wb(3),r.Yb("fTranslate",t.isGameOver?"gameOver":"score"),r.wb(10),r.Yb("ngForOf",t.players),r.wb(1),r.Yb("ngIf",!t.isGameOver))},directives:[o.a,s.j,s.k],pipes:[s.d],styles:[""],changeDetection:0}),e})(),R=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Cb({type:e,selectors:[["f-settings"]],decls:9,vars:0,consts:[[1,"dialog"],[1,"menu"],[1,"header"],["fTranslate","settings"],[1,"body"],[1,"footer"],[1,"button-list"],["routerLink","/game","type","button","fTranslate","save"],["routerLink","/game","type","button","fTranslate","cancel"]],template:function(e,t){1&e&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.Jb(3,"h1",3),r.Kb(),r.Jb(4,"div",4),r.Lb(5,"div",5),r.Lb(6,"div",6),r.Jb(7,"button",7),r.Jb(8,"button",8),r.Kb(),r.Kb(),r.Kb(),r.Kb())},directives:[o.a,n.b],styles:[""],changeDetection:0}),e})(),M=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Cb({type:e,selectors:[["f-trade"]],decls:8,vars:0,consts:[[1,"dialog"],[1,"menu"],[1,"header"],["fTranslate","trade"],[1,"body"],[1,"footer"],[1,"button-list"],["routerLink","/game","type","button","fTranslate","close"]],template:function(e,t){1&e&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.Jb(3,"h1",3),r.Kb(),r.Jb(4,"div",4),r.Lb(5,"div",5),r.Lb(6,"div",6),r.Jb(7,"button",7),r.Kb(),r.Kb(),r.Kb(),r.Kb())},directives:[o.a,n.b],styles:[""],changeDetection:0}),e})();function N(e,t){if(1&e){const e=r.Mb();r.Lb(0,"button",6),r.Sb("click",function(){return r.cc(e),r.Ub(2).next()}),r.Kb()}}function V(e,t){if(1&e&&(r.Lb(0,"div",4),r.Lb(1,"div",1),r.fc(2,N,1,0,"button",5),r.Kb(),r.Kb()),2&e){const e=r.Ub();r.wb(2),r.Yb("ngIf",e.canNext)}}let G=(()=>{class e{constructor(e,t){this.gameService=e,this.changeDetectorRef=t,this.gameObserver={turnChange:()=>this.changeDetectorRef.markForCheck(),phaseChange:()=>this.changeDetectorRef.markForCheck(),resourcesChange:()=>this.changeDetectorRef.markForCheck()}}get canNext(){return this.gameService.canProceedToNextPlayer}get isHumanOnTurn(){return this.gameService.isHumanOnTurn}get isTradePhase(){return this.gameService.isTradePhase}ngOnDestroy(){this.gameService.removeObserver(this.gameObserver)}ngOnInit(){this.gameService.addObserver(this.gameObserver)}next(){this.gameService.proceedToNextPlayer()}}return e.\u0275fac=function(t){return new(t||e)(r.Ib(a.a),r.Ib(r.h))},e.\u0275cmp=r.Cb({type:e,selectors:[["f-menu-bar"]],decls:4,vars:1,consts:[[1,"game-menu","top","right"],[1,"game-menu-item"],["routerLink","/game/menu","type","button","fTranslate","menu"],["class","game-menu bottom right",4,"ngIf"],[1,"game-menu","bottom","right"],["type","button","fTranslate","next",3,"click",4,"ngIf"],["type","button","fTranslate","next",3,"click"]],template:function(e,t){1&e&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.Jb(2,"button",2),r.Kb(),r.Kb(),r.fc(3,V,3,1,"div",3)),2&e&&(r.wb(3),r.Yb("ngIf",t.isHumanOnTurn))},directives:[n.b,o.a,s.k],styles:[""],changeDetection:0}),e})(),A=(()=>{class e{constructor(e){this.gameService=e}get customers(){return this.gameService.getCustomerStatistics()}get farm(){return this.gameService.getHarvestStatistics("farm")}get field(){return this.gameService.getHarvestStatistics("field")}get industry(){return this.gameService.getIndustryStatistics()}get plantation(){return this.gameService.getHarvestStatistics("plantation")}get turnover(){return this.gameService.getTurnoverStatistics()}}return e.\u0275fac=function(t){return new(t||e)(r.Ib(a.a))},e.\u0275cmp=r.Cb({type:e,selectors:[["f-statistics"]],decls:42,vars:24,consts:[[1,"dialog"],[1,"menu"],[1,"header"],["fTranslate","statistics"],[1,"body"],[1,"grid-2"],[1,"label-frame"],["src","assets/images/steak.png"],["src","assets/images/nugget.png"],[1,"text-right"],["src","assets/images/bread.png"],["src","assets/images/potato.png"],["src","assets/images/cola.png"],["src","assets/images/coffee.png"],["src","assets/images/flask.png"],["src","assets/images/users_3.png"],["src","assets/images/coins_in_hand.png"],[1,"footer"],[1,"button-list"],["routerLink","/game","type","button","fTranslate","close"]],template:function(e,t){1&e&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.Jb(3,"h1",3),r.Kb(),r.Lb(4,"div",4),r.Lb(5,"div",5),r.Lb(6,"label",6),r.Jb(7,"img",7),r.Jb(8,"img",8),r.Kb(),r.Lb(9,"label",9),r.gc(10),r.Vb(11,"number"),r.Kb(),r.Lb(12,"label",6),r.Jb(13,"img",10),r.Jb(14,"img",11),r.Kb(),r.Lb(15,"label",9),r.gc(16),r.Vb(17,"number"),r.Kb(),r.Lb(18,"label",6),r.Jb(19,"img",12),r.Jb(20,"img",13),r.Kb(),r.Lb(21,"label",9),r.gc(22),r.Vb(23,"number"),r.Kb(),r.Lb(24,"label",6),r.Jb(25,"img",14),r.Kb(),r.Lb(26,"label",9),r.gc(27),r.Vb(28,"number"),r.Kb(),r.Lb(29,"label",6),r.Jb(30,"img",15),r.Kb(),r.Lb(31,"label",9),r.gc(32),r.Vb(33,"number"),r.Kb(),r.Lb(34,"label",6),r.Jb(35,"img",16),r.Kb(),r.Lb(36,"label",9),r.gc(37),r.Vb(38,"number"),r.Kb(),r.Kb(),r.Kb(),r.Lb(39,"div",17),r.Lb(40,"div",18),r.Jb(41,"button",19),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&e&&(r.wb(10),r.hc(r.Xb(11,6,t.farm,"1.1-1")),r.wb(6),r.hc(r.Xb(17,9,t.field,"1.1-1")),r.wb(6),r.hc(r.Xb(23,12,t.plantation,"1.1-1")),r.wb(5),r.hc(r.Xb(28,15,t.industry,"1.1-1")),r.wb(5),r.hc(r.Xb(33,18,t.customers,"1.1-1")),r.wb(5),r.hc(r.Xb(38,21,t.turnover,"1.0-0")))},directives:[o.a,n.b],pipes:[s.d],styles:[""],changeDetection:0}),e})();var E=i("4EtV");function _(e,t){if(1&e){const e=r.Mb();r.Lb(0,"div",9),r.Lb(1,"label"),r.gc(2),r.Jb(3,"img",10),r.Kb(),r.Jb(4,"input",11),r.Lb(5,"button",12),r.Sb("click",function(){r.cc(e);const i=t.$implicit;return r.Ub().harvest(i.soil)}),r.gc(6,"+"),r.Kb(),r.Kb()}if(2&e){const e=t.$implicit;r.wb(2),r.ic("",e.harvestAmount,"\xd7\xa0"),r.wb(1),r.Zb("src","assets/images/",e.soil,".png",r.dc),r.wb(1),r.Yb("value",e.amount),r.wb(1),r.Yb("disabled",!e.canHarvest)}}const z=[{path:"",component:I,children:[{path:"",pathMatch:"full",component:G},{path:"cards",pathMatch:"full",component:x},{path:"harvest",pathMatch:"full",component:(()=>{class e{constructor(e,t){this.gameService=e,this.changeDetectorRef=t,this.observer={resourcesChange:()=>this.changeDetectorRef.markForCheck(),turnChange:()=>{}},this.player=this.gameService.getNextHumanPlayerToHarvest()}get customers(){const e=this.player;return void 0!==e?this.gameService.getCustomers(e):0}get playerColorName(){return void 0!==this.player?this.gameService.getPlayerColorName(this.player):""}get soils(){const e=this.player;return void 0!==e?E.b.getAll().map(t=>({amount:this.gameService.getSoilsForPlayer(e,t),soil:t,harvestAmount:this.gameService.getHarvestAmount(e,t),canHarvest:this.gameService.canHarvest(e,t)})):[]}ngOnDestroy(){this.gameService.removeObserver(this.observer)}ngOnInit(){this.gameService.addObserver(this.observer)}harvest(e){this.gameService.harvest(this.player,e),this.player=this.gameService.getNextHumanPlayerToHarvest()}}return e.\u0275fac=function(t){return new(t||e)(r.Ib(a.a),r.Ib(r.h))},e.\u0275cmp=r.Cb({type:e,selectors:[["f-harvest"]],decls:12,vars:7,consts:[[1,"dialog"],[1,"menu"],[1,"header"],["fTranslate","harvest"],[1,"body"],[1,"grid-2"],["class","input-group",4,"ngFor","ngForOf"],[1,"grid-2","m-t"],["src","assets/images/users_3.png"],[1,"input-group"],[3,"src"],["type","number","readonly","readonly","max","99","min","0",3,"value"],["type","button",3,"disabled","click"]],template:function(e,t){1&e&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.Jb(3,"h1",3),r.Kb(),r.Lb(4,"div",4),r.Lb(5,"div",5),r.fc(6,_,7,4,"div",6),r.Kb(),r.Lb(7,"div",7),r.Jb(8,"img",8),r.Lb(9,"div"),r.gc(10),r.Vb(11,"number"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&e&&(r.wb(3),r.yb(t.playerColorName),r.wb(3),r.Yb("ngForOf",t.soils),r.wb(4),r.ic("",r.Xb(11,4,t.customers,"1.0-0"),"\xd7"))},directives:[o.a,s.j],pipes:[s.d],styles:[""],changeDetection:0}),e})()},{path:"menu",pathMatch:"full",component:J},{path:"products",pathMatch:"full",component:B},{path:"score",pathMatch:"full",component:X},{path:"settings",pathMatch:"full",component:R},{path:"statistics",pathMatch:"full",component:A},{path:"trade",pathMatch:"full",component:M}]}];let W=(()=>{class e{}return e.\u0275mod=r.Gb({type:e}),e.\u0275inj=r.Fb({factory:function(t){return new(t||e)},imports:[[n.c.forChild(z)],n.c]}),e})();var $=i("PCNd");let j=(()=>{class e{}return e.\u0275mod=r.Gb({type:e}),e.\u0275inj=r.Fb({factory:function(t){return new(t||e)},imports:[[s.b,$.a,W]]}),e})()}}]);